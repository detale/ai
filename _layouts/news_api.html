{
    "value": [
        {% capture news_where_exp %}post.topics contains '{{ page.topic | default: "AI" }}'{% endcapture -%}
        {% assign news = site.posts | where: "category", "news" | where_exp: "post", news_where_exp -%}
        {% for post in news -%}
        {
            "title": {{ post.title | jsonify }},
            "type": {{ post.type | jsonify }},
            "api": "{{ post.url | absolute_url }}",
            "sourceUrl": "{{ post.sourceUrl | absolute_url }}",
            {% if post.ampUrl -%}
            "ampUrl": "{{ post.ampUrl | absolute_url }}",
            {% endif -%}
            {% if post.cdnAmpUrl -%}
            "cdnAmpUrl": "{{ post.cdnAmpUrl | default: "" | absolute_url }}",
            {% endif -%}
            "abstract": {{ post.abstract | strip_html | normalize_whitespace | strip | jsonify }},
            "publishedDateTime": {{ post.publishedDateTime | jsonify }},
            "updatedDateTime": {{ post.updatedDateTime | jsonify }},
            "provider": {
                {% if post.provider.id -%}
                "id": "{{ post.provider.id }}",
                "logo": {
                    "url": "https://providers.insideout.app/{{ post.provider.id }}/logo-50x50.jpg",
                    "width": 50,
                    "height": 50
                },
                {% endif -%}
                "name": {{ post.provider.name | jsonify }}
            },
            "images": [
                {% for image in post.images -%}
                {
                    "width": {{ image.width | default: 0 }},
                    "height": {{ image.height | default: 0 }},
                    "url": "{{ image.url | absolute_url }}",
                    "attribution": {{ image.attribution | jsonify }},
                    "title": {{ image.title | jsonify }}
                }{% unless forloop.last -%},{% endunless %}
                {% endfor %}
            ],
            "locale": {{ post.locale | jsonify }},
            "categories": {{ post.categories | jsonify }},
            "topics": {{ post.topics | jsonify }},
            "isBreakingNews": {{ post.isBreakingNews }},
            "isTopStory": {{ post.isTopStory }}
        }{% unless forloop.last -%},{% endunless %}
        {% endfor %}
    ]
}
